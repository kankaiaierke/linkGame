webpackJsonp([1],{"5zde":function(t,e,i){i("zQR9"),i("qyJz"),t.exports=i("FeBl").Array.from},"D/O/":function(t,e){},Gu7T:function(t,e,i){"use strict";e.__esModule=!0;var s,n=i("c/Tr"),a=(s=n)&&s.__esModule?s:{default:s};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,a.default)(t)}},bIcA:function(t,e){},"c/Tr":function(t,e,i){t.exports={default:i("5zde"),__esModule:!0}},fBQ2:function(t,e,i){"use strict";var s=i("evD5"),n=i("X8DO");t.exports=function(t,e,i){e in t?s.f(t,e,n(0,i)):t[e]=i}},gORT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Gu7T"),n=i.n(s),a={name:"search",data:function(){return{}},props:{keyEnter:{type:Function},value:{type:null},placeholder:{type:String,default:"搜索"}},methods:{eventClose:function(){this.$parent.searchName="",this.$parent.showSonglist=!1,this.$parent.SongList=[],this.$parent.searchPage=0,this.getFocus()},overFocus:function(){setTimeout(function(){document.getElementById("input").blur()},300)},getFocus:function(){setTimeout(function(){document.getElementById("input").focus()},300)},handleInput:function(t){this.$parent.searchName=t.target.value}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"searchbar"},[i("div",{staticClass:"searchbar-inner"},[i("i",{staticClass:"big-sousuo1 iconfont searchbar-icon"}),t._v(" "),i("form",{attrs:{id:"myForm",action:"",onsubmit:"return false;"}},[i("input",{staticClass:"searchbar-core",attrs:{type:"search",id:"input",placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyEnter()}}})]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.value.length>0,expression:"value.length>0"}],staticClass:"big-jinakangbaoicons18 iconfont close-icon",on:{click:t.eventClose}})])])},staticRenderFns:[]};var r={name:"HelloWorld",components:{Search:i("VU/8")(a,o,!1,function(t){i("D/O/")},"data-v-89da201e",null).exports},data:function(){return{nevaBarId:0,searchName:[],searchPage:0,searchLog:[],playList:[],newSongs:[],hotSearch:[],showSonglist:!1,SongList:[],hotSong:[],classArr:[],update:"04月25日"}},mounted:function(){this.nevaBarId=1,this.getPersonalized(),this.getHotSearch(),this.searchLog=this.common.getStorage("searchLog")||[],this.searchLog.length>0&&(this.searchLog=this.searchLog.split(","));var t=new Date,e=t.getTime(),i=t.getDate();if(4===t.getDay()){var s=t.getMonth()+1;i<10&&(i="0"+i),s<10&&(s="0"+s),this.update=s+"月"+i+"日"}else{var n="";n=t.getDay()>4?e-864e5*(t.getDay()-4):e-864e5*(t.getDay()+7-4);var a=new Date(n),o=a.getMonth()+1,r=a.getDate();r<10&&(r="0"+r),o<10&&(o="0"+o),this.update=o+"月"+r+"日"}},methods:{scrollToEnd:function(t){t.target.scrollTop+t.target.clientHeight===t.target.scrollHeight&&(console.log("到达底部"),this.searchPage++,this.search(this.searchName))},playListDetail:function(t){this.$router.push("/playList?id="+t)},nevaBarFun:function(t){this.nevaBarId=t,setTimeout(function(){document.getElementById("input").focus()},400)},goPlayInfo:function(t){var e=this;this.$parent.isShow=!0,setTimeout(function(){e.$parent.changePlayId(t)},800)},getHotSong:function(){var t=this;this.$get(this.domin+"/api/top/list?idx=1",{}).then(function(e){for(var i=e.body.result,s=[],n=0;n<100;n++)s.push(i[n]);t.hotSong=s})},getHotSearch:function(){var t=this;this.$get(this.domin+"/api/search/hot",{},!1).then(function(e){t.hotSearch=e.body.result.hots})},getNewSong:function(){var t=this;this.$get(this.domin+"/api/personalized/newsong",{}).then(function(e){t.newSongs=e.body.result})},getPersonalized:function(){var t=this;this.$get(this.domin+"/api/personalized?limit=6",{}).then(function(e){t.playList=e.body.result})},search:function(t){var e=this;this.$refs.input.overFocus(),t?this.searchName=t:(t=this.searchName,this.SongList=[],this.searchPage=0),""!==t&&this.$get(this.domin+"/api/search?name="+t+"&offset="+this.searchPage,{}).then(function(i){if(e.searchLog.includes(t))for(var s in e.searchLog)e.searchLog[s]===t&&e.searchLog.splice(s,1);e.searchLog.unshift(t),e.common.setStorage("searchLog",e.searchLog.join(",")),e.showSonglist=!0;var a=i.body.result.songs;for(var o in a)a[o].title=a[o].title.replace(/\|/g,"<br>").replace(new RegExp(t,"g"),"<span style='color: #507daf;'>$&</span>"),a[o].special=a[o].special.replace(/\|/g,"<br>").replace(new RegExp(t,"g"),"<span style='color: #507daf;'>$&</span>"),a[o].author=a[o].author.replace(/\|/g,"<br>").replace(new RegExp(t,"g"),"<span style='color: #507daf;'>$&</span>");e.SongList=[].concat(n()(e.SongList),n()(a))})},closeLog:function(t){for(var e in this.searchLog)if(this.searchLog[e]===t){this.searchLog.splice(e,1);break}this.common.setStorage("searchLog",this.searchLog.join(","))}},watch:{nevaBarId:function(t){1===t&&this.newSongs.length<1?this.getNewSong():2===t&&this.hotSong.length<1?this.getHotSong():3===t&&this.getHotSearch()}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("div",{staticStyle:{height:"40px",width:"100%","background-color":"#d43c33","text-align":"center",position:"fixed","z-index":"9"},on:{click:function(e){t.$parent.isShow=!0}}},[i("span",{staticClass:"text"},[t._v("Cloudmusic")])]),t._v(" "),i("div",{staticClass:"nevaBar"},[i("div",{on:{click:function(e){return t.nevaBarFun(1)}}},[i("span",{class:1===t.nevaBarId?"action":""},[t._v("推荐歌单")])]),t._v(" "),i("div",{on:{click:function(e){return t.nevaBarFun(2)}}},[i("span",{class:2===t.nevaBarId?"action":""},[t._v("热歌榜")])]),t._v(" "),i("div",{on:{click:function(e){return t.nevaBarFun(3)}}},[i("span",{class:3===t.nevaBarId?"action":""},[t._v("搜索")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.nevaBarId,expression:"nevaBarId === 1"}],staticClass:"nevaBarPage"},[t._m(0),t._v(" "),i("div",{staticClass:"ream-ul"},t._l(t.playList,function(e,s){return s<3?i("div",{key:s,staticClass:"ream-li",style:s%3==0?"margin-left:0;":"",on:{click:function(i){return t.playListDetail(e.id)}}},[i("div",[i("img",{attrs:{src:e.picUrl+"?param=300y300",alt:""}}),t._v(" "),i("span",[i("i",{staticClass:"iconfont big-icon-test15"}),t._v(t._s(e.playCount/1e4>1e4?(e.playCount/1e8).toFixed(1)+"亿":(e.playCount/1e4).toFixed(1)+"万"))])]),t._v(" "),i("span",{staticClass:"remd_text"},[t._v(t._s(e.name))])]):t._e()}),0),t._v(" "),i("div",{staticClass:"ream-ul"},t._l(t.playList,function(e,s){return s>=3?i("div",{key:s,staticClass:"ream-li",style:s%3==0?"margin-left:0;":"",on:{click:function(i){return t.playListDetail(e.id)}}},[i("div",[i("img",{attrs:{src:e.picUrl+"?param=300y300",alt:""}}),t._v(" "),i("span",[i("i",{staticClass:"iconfont big-icon-test15"}),t._v(t._s(e.playCount/1e4>1e4?(e.playCount/1e8).toFixed(1)+"亿":(e.playCount/1e4).toFixed(1)+"万"))])]),t._v(" "),i("span",{staticClass:"remd_text"},[t._v(t._s(e.name))])]):t._e()}),0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"newSong"},t._l(t.newSongs,function(e,s){return i("div",{key:s,staticClass:"newSong_li",on:{click:function(i){return t.goPlayInfo(e.songId)}}},[i("div",{staticClass:"newSong_li_title ellips",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),t._m(2,!0),t._v(" "),i("div",{staticClass:"newSong_li_icon ellips"},[i("i",{staticClass:"iconfont big-sq1",staticStyle:{"margin-right":"4px",color:"#eea375"}}),t._v(t._s(e.author)+"-"+t._s(e.special))])])}),0)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.nevaBarId,expression:"nevaBarId === 2"}],staticClass:"nevaBarPage"},[i("div",{staticClass:"hotop"},[i("div",{staticClass:"hotopct"},[i("div",{staticClass:"u-hmsprt hoticon"}),t._v(" "),i("div",{staticClass:"hottime"},[t._v("更新日期："+t._s(t.update))])])]),t._v(" "),i("div",{staticClass:"newSong"},t._l(t.hotSong,function(e,s){return i("div",{key:s,staticClass:"newSong_li",on:{click:function(i){return t.goPlayInfo(e.songId)}}},[i("div",{staticClass:"newSong_li_img newSong_li_hot",style:s<3?"color: #df3436;":""},[t._v(t._s(s<9?"0"+(s+1):s+1))]),t._v(" "),i("div",{staticClass:"newSong_li_title ellips",staticStyle:{"padding-left":"46px"},domProps:{innerHTML:t._s(e.title)}}),t._v(" "),t._m(3,!0),t._v(" "),i("div",{staticClass:"newSong_li_icon ellips",staticStyle:{"padding-left":"46px"}},[i("i",{staticClass:"iconfont big-sq1",staticStyle:{"margin-right":"4px",color:"#eea375"}}),t._v(t._s(e.author)+"-"+t._s(e.special))])])}),0)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.nevaBarId,expression:"nevaBarId === 3"}],staticClass:"nevaBarPage",on:{scroll:t.scrollToEnd}},[i("search",{ref:"input",attrs:{keyEnter:t.search},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSonglist,expression:"!showSonglist"}],staticClass:"search-i"},[t._v("\n        热门搜索\n        "),i("div",{staticClass:"search-hot"},t._l(t.hotSearch,function(e,s){return i("span",{key:s,on:{click:function(i){return t.search(e.first)}}},[t._v(t._s(e.first))])}),0),t._v(" "),t.searchLog.length>0?i("div",{staticClass:"search-log",staticStyle:{"margin-top":"6px"}},t._l(t.searchLog,function(e,s){return e?i("div",{key:s},[i("span",{staticStyle:{display:"inline-block",width:"90%"},on:{click:function(i){return t.search(e)}}},[i("i",{staticClass:"iconfont big-jilu",staticStyle:{color:"#ccc","font-size":"18px",float:"left","margin-right":"10px"}}),t._v("\n              "+t._s(e)+"\n            ")]),t._v(" "),i("i",{staticClass:"iconfont big-cha1",staticStyle:{"font-size":"16px",float:"right",width:"10%","text-align":"right"},on:{click:function(i){return i.preventDefault(),t.closeLog(e)}}})]):t._e()}),0):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSonglist,expression:"showSonglist"}],staticClass:"search-l"},[i("div",{staticClass:"newSong"},t._l(t.SongList,function(e,s){return i("div",{key:s,staticClass:"newSong_li",on:{click:function(i){return t.goPlayInfo(e.songId)}}},[i("div",{staticClass:"newSong_li_img"},[i("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.pic+"?param=50y50"}})]),t._v(" "),i("div",{staticClass:"newSong_li_title ellips",staticStyle:{"padding-left":"46px"},domProps:{innerHTML:t._s(e.title)}}),t._v(" "),t._m(4,!0),t._v(" "),i("div",{staticClass:"newSong_li_icon ellips",staticStyle:{"padding-left":"46px"},domProps:{innerHTML:t._s(e.author+"-"+e.special)}},[i("i",{staticClass:"iconfont big-sq1",staticStyle:{"margin-right":"4px",color:"#eea375"}})])])}),0)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"20px","line-height":"20px",padding:"20px 0"}},[e("span",{staticStyle:{"border-left":"2px solid #C20C0C",padding:"2px 0 2px 10px","font-size":"16px","font-weight":"600"}},[this._v("推荐歌单")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"20px","line-height":"20px",padding:"20px 0"}},[e("span",{staticStyle:{"border-left":"2px solid #C20C0C",padding:"2px 0 2px 10px","font-size":"16px","font-weight":"600"}},[this._v("最新音乐")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"newSong_li_author"},[e("i",{staticClass:"big-big-icon-test2 iconfont",staticStyle:{"font-size":"27px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"newSong_li_author"},[e("i",{staticClass:"big-big-icon-test2 iconfont",staticStyle:{"font-size":"27px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"newSong_li_author"},[e("i",{staticClass:"big-big-icon-test2 iconfont",staticStyle:{"font-size":"27px"}})])}]};var l=i("VU/8")(r,c,!1,function(t){i("bIcA")},"data-v-cf742b3c",null);e.default=l.exports},qyJz:function(t,e,i){"use strict";var s=i("+ZMJ"),n=i("kM2E"),a=i("sB3e"),o=i("msXi"),r=i("Mhyx"),c=i("QRG4"),l=i("fBQ2"),h=i("3fs2");n(n.S+n.F*!i("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,u,g=a(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,f=void 0!==p,_=0,m=h(g);if(f&&(p=s(p,v>2?arguments[2]:void 0,2)),void 0==m||d==Array&&r(m))for(i=new d(e=c(g.length));e>_;_++)l(i,_,f?p(g[_],_):g[_]);else for(u=m.call(g),i=new d;!(n=u.next()).done;_++)l(i,_,f?o(u,p,[n.value,_],!0):n.value);return i.length=_,i}})}});
//# sourceMappingURL=1.c8f38d6ac783f7ad369b.js.map